(()=>{var e={};e.id=975,e.ids=[975],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},541:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var a=s(482),r=s(9108),l=s(2563),i=s.n(l),n=s(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["admin",{children:["content",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2343)),"E:\\my project\\my project\\hims website\\hims frontend\\app\\admin\\content\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6294)),"E:\\my project\\my project\\hims website\\hims frontend\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,3067)),"E:\\my project\\my project\\hims website\\hims frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\my project\\my project\\hims website\\hims frontend\\app\\admin\\content\\page.tsx"],m="/admin/content/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/content/page",pathname:"/admin/content",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2130:(e,t,s)=>{Promise.resolve().then(s.bind(s,2174))},2174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5344),r=s(3729),l=s(1838),i=s(3148),n=s(1222),d=s(5695),c=s(8271),o=s(4513),m=s(1498),x=s(9356);let h=()=>{let[e,t]=(0,r.useState)("hero"),[s,h]=(0,r.useState)([]),[p,u]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[j,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!0),[w,N]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),[E,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{localStorage.getItem("adminToken")?(f(!0),S()):window.location.href="/admin"},[]);let S=async()=>{try{let e=localStorage.getItem("adminToken"),t={Authorization:`Bearer ${e}`},s=await fetch("https://hims-college-backend.vercel.app/api/content/admin/hero-slides",{headers:t});if(s.ok){let e=await s.json();h(e)}let a=await fetch("https://hims-college-backend.vercel.app/api/content/admin/teachers",{headers:t});if(a.ok){let e=await a.json();u(e)}let r=await fetch("https://hims-college-backend.vercel.app/api/content/admin/students",{headers:t});if(r.ok){let e=await r.json();b(e)}}catch(e){console.error("Failed to fetch content:",e)}finally{v(!1)}},T=async e=>{A(!0);try{let t=new FormData;t.append("image",e);let s=localStorage.getItem("adminToken"),a=await fetch("https://hims-college-backend.vercel.app/api/content/upload",{method:"POST",headers:{Authorization:`Bearer ${s}`},body:t});if(a.ok)return(await a.json()).url;throw Error("Upload failed")}catch(e){return console.error("Image upload failed:",e),alert("Image upload failed"),null}finally{A(!1)}},q=async(e,t)=>{try{let s=localStorage.getItem("adminToken"),a={"Content-Type":"application/json",Authorization:`Bearer ${s}`},r="",l="POST";"hero"===e?(r="https://hims-college-backend.vercel.app/api/content/admin/hero-slides",k&&(r+=`/${k.id}`,l="PUT")):"teacher"===e?(r="https://hims-college-backend.vercel.app/api/content/admin/teachers",k&&(r+=`/${k.id}`,l="PUT")):"student"===e&&(r="https://hims-college-backend.vercel.app/api/content/admin/students",k&&(r+=`/${k.id}`,l="PUT")),(await fetch(r,{method:l,headers:a,body:JSON.stringify(t)})).ok?(S(),N(!1),C(null)):alert("Failed to save")}catch(e){console.error("Save failed:",e),alert("Save failed")}},P=async(e,t)=>{if(confirm("Are you sure you want to delete this item?"))try{let s=localStorage.getItem("adminToken"),a={Authorization:`Bearer ${s}`},r="";"hero"===e?r=`https://hims-college-backend.vercel.app/api/content/admin/hero-slides/${t}`:"teacher"===e?r=`https://hims-college-backend.vercel.app/api/content/admin/teachers/${t}`:"student"===e&&(r=`https://hims-college-backend.vercel.app/api/content/admin/students/${t}`),(await fetch(r,{method:"DELETE",headers:a})).ok?S():alert("Failed to delete")}catch(e){console.error("Delete failed:",e),alert("Delete failed")}},$=async(e,t,s)=>{try{let a=localStorage.getItem("adminToken"),r={"Content-Type":"application/json",Authorization:`Bearer ${a}`},l="";"hero"===e?l=`https://hims-college-backend.vercel.app/api/content/admin/hero-slides/${t}`:"teacher"===e?l=`https://hims-college-backend.vercel.app/api/content/admin/teachers/${t}`:"student"===e&&(l=`https://hims-college-backend.vercel.app/api/content/admin/students/${t}`),(await fetch(l,{method:"PUT",headers:r,body:JSON.stringify({isActive:!s})})).ok&&S()}catch(e){console.error("Toggle failed:",e)}};return y?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Management"}),a.jsx("button",{onClick:()=>window.location.href="/admin",className:"text-gray-600 hover:text-gray-900",children:"â† Back to Dashboard"})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm mb-8",children:[a.jsx("button",{onClick:()=>t("hero"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${"hero"===e?"bg-primary-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:"Hero Slides"}),a.jsx("button",{onClick:()=>t("teachers"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${"teachers"===e?"bg-primary-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:"Teachers"}),a.jsx("button",{onClick:()=>t("students"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${"students"===e?"bg-primary-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:"Students"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[a.jsx("div",{className:"p-6 border-b",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["hero"===e&&"Hero Slides","teachers"===e&&"Teachers","students"===e&&"Students"]}),(0,a.jsxs)("button",{onClick:()=>{C(null),N(!0)},className:"btn-primary flex items-center space-x-2",children:[a.jsx(l.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Add New"})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:["hero"===e&&a.jsx("div",{className:"grid gap-6",children:s.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 flex items-center space-x-4",children:[a.jsx("img",{src:(()=>{let t=(0,x.Jn)(e.imageUrl);return console.log("Admin content page hero image URL:",t,"for slide:",e.title),t})(),alt:e.title,className:"w-16 h-16 object-cover rounded",onError:e=>{let t=e.target;console.log("Admin content page hero image failed to load:",t.src),t.src='data:image/svg+xml,%3Csvg width="64" height="64" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="64" height="64" fill="%233B82F6"/%3E%3Ctext x="32" y="32" text-anchor="middle" fill="white" font-size="8"%3ESLIDE%3C/text%3E%3C/svg%3E'},onLoad:()=>{console.log("Admin content page hero image loaded successfully")}}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.subtitle})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>$("hero",e.id,e.isActive),className:`p-2 rounded ${e.isActive?"text-green-600":"text-gray-400"}`,children:e.isActive?a.jsx(i.Z,{className:"w-4 h-4"}):a.jsx(n.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{C(e),N(!0)},className:"p-2 text-blue-600 hover:text-blue-800",children:a.jsx(d.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P("hero",e.id),className:"p-2 text-red-600 hover:text-red-800",children:a.jsx(c.Z,{className:"w-4 h-4"})})]})]},e.id))}),"teachers"===e&&a.jsx("div",{className:"grid gap-6",children:p.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 flex items-center space-x-4",children:[a.jsx("img",{src:(0,x.Jn)(e.imageUrl)||'data:image/svg+xml,%3Csvg width="64" height="64" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="64" height="64" fill="%233B82F6"/%3E%3Ctext x="32" y="32" text-anchor="middle" fill="white" font-size="8"%3ETEACHER%3C/text%3E%3C/svg%3E',alt:e.name,className:"w-16 h-16 object-cover rounded",onError:e=>{e.target.src='data:image/svg+xml,%3Csvg width="64" height="64" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="64" height="64" fill="%233B82F6"/%3E%3Ctext x="32" y="32" text-anchor="middle" fill="white" font-size="8"%3ETEACHER%3C/text%3E%3C/svg%3E'}}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.position}),a.jsx("p",{className:"text-sm text-gray-500",children:e.expertise})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>$("teacher",e.id,e.isActive),className:`p-2 rounded ${e.isActive?"text-green-600":"text-gray-400"}`,children:e.isActive?a.jsx(i.Z,{className:"w-4 h-4"}):a.jsx(n.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{C(e),N(!0)},className:"p-2 text-blue-600 hover:text-blue-800",children:a.jsx(d.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P("teacher",e.id),className:"p-2 text-red-600 hover:text-red-800",children:a.jsx(c.Z,{className:"w-4 h-4"})})]})]},e.id))}),"students"===e&&a.jsx("div",{className:"grid gap-6",children:g.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 flex items-center space-x-4",children:[a.jsx("img",{src:(()=>{let t=(0,x.Jn)(e.imageUrl);return console.log("Admin content page student image URL:",t,"for student:",e.name),t})(),alt:e.name,className:"w-16 h-16 object-cover rounded",onError:e=>{let t=e.target;console.log("Admin content page student image failed to load:",t.src),t.src='data:image/svg+xml,%3Csvg width="64" height="64" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="64" height="64" fill="%233B82F6"/%3E%3Ctext x="32" y="32" text-anchor="middle" fill="white" font-size="8"%3ESTUDENT%3C/text%3E%3C/svg%3E'},onLoad:()=>{console.log("Admin content page student image loaded successfully")}}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.program}),a.jsx("p",{className:"text-sm text-gray-500",children:e.achievement})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>$("student",e.id,e.isActive),className:`p-2 rounded ${e.isActive?"text-green-600":"text-gray-400"}`,children:e.isActive?a.jsx(i.Z,{className:"w-4 h-4"}):a.jsx(n.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{C(e),N(!0)},className:"p-2 text-blue-600 hover:text-blue-800",children:a.jsx(d.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P("student",e.id),className:"p-2 text-red-600 hover:text-red-800",children:a.jsx(c.Z,{className:"w-4 h-4"})})]})]},e.id))})]})]})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:[k?"Edit":"Add"," ","hero"===e?"Hero Slide":"teachers"===e?"Teacher":"Student"]}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(o.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),q(e,Object.fromEntries(new FormData(t.target)))},children:["hero"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),a.jsx("input",{name:"title",defaultValue:k?.title,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),a.jsx("input",{name:"subtitle",defaultValue:k?.subtitle,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",defaultValue:k?.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Text"}),a.jsx("input",{name:"ctaText",defaultValue:k?.ctaText,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Link"}),a.jsx("input",{name:"ctaLink",defaultValue:k?.ctaLink,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),"teachers"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{name:"name",defaultValue:k?.name,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),a.jsx("input",{name:"position",defaultValue:k?.position,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expertise"}),a.jsx("input",{name:"expertise",defaultValue:k?.expertise,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),a.jsx("input",{name:"rating",type:"number",step:"0.1",min:"0",max:"5",defaultValue:k?.rating,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",defaultValue:k?.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,required:!0})]})]}),"students"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),a.jsx("input",{name:"name",defaultValue:k?.name,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program"}),a.jsx("input",{name:"program",defaultValue:k?.program,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Achievement"}),a.jsx("input",{name:"achievement",defaultValue:k?.achievement,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GPA"}),a.jsx("input",{name:"gpa",defaultValue:k?.gpa,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quote"}),a.jsx("textarea",{name:"quote",defaultValue:k?.quote,className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Awards (comma-separated)"}),a.jsx("input",{name:"awards",defaultValue:k?.awards?.join(", "),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Academic Excellence, Leadership Award, Community Service"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),a.jsx("input",{name:"image",type:"file",accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:async e=>{let t=e.target.files?.[0];if(t){let s=await T(t);if(s){let t=document.createElement("input");t.type="hidden",t.name="imageUrl",t.value=s,e.target.parentElement?.appendChild(t)}}}}),k?.imageUrl&&a.jsx("img",{src:(0,x.Jn)(k.imageUrl)||'data:image/svg+xml,%3Csvg width="128" height="128" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="128" height="128" fill="%23374151"/%3E%3Ctext x="64" y="64" text-anchor="middle" fill="white" font-size="12"%3ECURRENT%3C/text%3E%3C/svg%3E',alt:"Current",className:"w-32 h-32 object-cover mt-2 rounded",onError:e=>{e.target.src='data:image/svg+xml,%3Csvg width="128" height="128" xmlns="http://www.w3.org/2000/svg"%3E%3Crect width="128" height="128" fill="%23374151"/%3E%3Ctext x="64" y="64" text-anchor="middle" fill="white" font-size="12"%3ECURRENT%3C/text%3E%3C/svg%3E'}})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center space-x-2",disabled:E,children:E?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Uploading..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Save"})]})})]})]})]})})]})}},2343:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(6843).createProxy)(String.raw`E:\my project\my project\hims website\hims frontend\app\admin\content\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[429,69,762,85],()=>s(541));module.exports=a})();