(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{2894:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7216:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9670:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},519:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},1295:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6245:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},9036:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},7972:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2549:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},295:function(e,s,a){Promise.resolve().then(a.bind(a,7777))},7777:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return j}});var t=a(7437),r=a(2265),l=a(5251),n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var o=a(2894),c=a(2549),d=a(7972);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,n.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var x=a(1295),u=a(9036),h=a(519),y=a(6245);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,n.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var f=a(7216),g=a(9670),j=()=>{let[e,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(!0),[j,b]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[v,k]=(0,r.useState)(""),[Z,S]=(0,r.useState)(""),[C,P]=(0,r.useState)(""),[E,F]=(0,r.useState)(""),[M,q]=(0,r.useState)(""),[z,A]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[_,L]=(0,r.useState)(!1),[O,U]=(0,r.useState)("profile");(0,r.useEffect)(()=>{B()},[]);let B=async()=>{try{let e=localStorage.getItem("adminToken");if(!e){window.location.href="/admin";return}let a=await fetch("http://localhost:5000/api/admin/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();s(e),k(e.name),S(e.email)}else 401===a.status&&(localStorage.removeItem("adminToken"),window.location.href="/admin")}catch(e){console.error("Failed to fetch profile:",e),N({type:"error",text:"Failed to load profile information"})}finally{n(!1)}},D=async e=>{e.preventDefault(),b(!0),N(null);try{let e=localStorage.getItem("adminToken"),a=await fetch("http://localhost:5000/api/admin/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({name:v,email:Z})}),t=await a.json();a.ok?(s(t.admin),N({type:"success",text:"Profile updated successfully!"})):N({type:"error",text:t.error||"Failed to update profile"})}catch(e){console.error("Update failed:",e),N({type:"error",text:"Network error. Please try again."})}finally{b(!1)}},V=async e=>{if(e.preventDefault(),b(!0),N(null),E!==M){N({type:"error",text:"New passwords do not match"}),b(!1);return}if(E.length<6){N({type:"error",text:"New password must be at least 6 characters long"}),b(!1);return}try{let e=localStorage.getItem("adminToken"),s=await fetch("http://localhost:5000/api/admin/change-password",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({currentPassword:C,newPassword:E})}),a=await s.json();s.ok?(N({type:"success",text:"Password changed successfully!"}),P(""),F(""),q("")):N({type:"error",text:a.error||"Failed to change password"})}catch(e){console.error("Password change failed:",e),N({type:"error",text:"Network error. Please try again."})}finally{b(!1)}};return a?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Settings"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage your account information and security settings"})]}),w&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg flex items-center space-x-2 ".concat("success"===w.type?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"),children:["success"===w.type?(0,t.jsx)(i,{className:"w-5 h-5"}):(0,t.jsx)(o.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:w.text}),(0,t.jsx)("button",{onClick:()=>N(null),className:"ml-auto text-gray-400 hover:text-gray-600",children:(0,t.jsx)(c.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,t.jsx)("button",{onClick:()=>U("profile"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("profile"===O?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Profile Information"})]})}),(0,t.jsx)("button",{onClick:()=>U("password"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("password"===O?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Change Password"})]})})]})}),(0,t.jsxs)("div",{className:"p-6",children:["profile"===O&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Profile Information"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Update your account's profile information and email address."})]}),(0,t.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",id:"name",value:v,onChange:e=>k(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:"email",id:"email",value:Z,onChange:e=>S(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email address"})]})]})]}),e&&(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Role: ",(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.role})]})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:j,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Saving..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Save Changes"})]})})})]})]}),"password"===O&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Change Password"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Ensure your account is using a long, random password to stay secure."})]}),(0,t.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:z?"text":"password",id:"currentPassword",value:C,onChange:e=>P(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter current password"}),(0,t.jsx)("button",{type:"button",onClick:()=>A(!z),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:z?(0,t.jsx)(f.Z,{className:"w-5 h-5"}):(0,t.jsx)(g.Z,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:T?"text":"password",id:"newPassword",value:E,onChange:e=>F(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter new password"}),(0,t.jsx)("button",{type:"button",onClick:()=>I(!T),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:T?(0,t.jsx)(f.Z,{className:"w-5 h-5"}):(0,t.jsx)(g.Z,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,t.jsx)("input",{type:_?"text":"password",id:"confirmPassword",value:M,onChange:e=>q(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm new password"}),(0,t.jsx)("button",{type:"button",onClick:()=>L(!_),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:_?(0,t.jsx)(f.Z,{className:"w-5 h-5"}):(0,t.jsx)(g.Z,{className:"w-5 h-5"})})]})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(o.Z,{className:"h-5 w-5 text-blue-400"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Password Requirements"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:"At least 6 characters long"}),(0,t.jsx)("li",{children:"Include a mix of letters, numbers, and symbols"}),(0,t.jsx)("li",{children:"Different from your current password"})]})})]})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:j,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{children:"Changing Password..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Change Password"})]})})})]})]})]})]})]})}}},function(e){e.O(0,[581,971,938,744],function(){return e(e.s=295)}),_N_E=e.O()}]);