(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,...m},u)=>(0,n.createElement)("svg",{ref:u,...s,width:i,height:i,stroke:r,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide",`lucide-${a(e)}`,c].join(" "),...m},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},6637:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},8004:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},2245:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3886:function(e,t,r){Promise.resolve().then(r.bind(r,49))},49:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(7437),s=r(2265),a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var l=r(6637);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,a.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var c=r(3344),d=r(2245),m=r(2549);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,a.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var x=r(8004),h=r(4033),y=r(1396),f=r.n(y),g=e=>{let{children:t}=e,[r,a]=(0,s.useState)(!1),[y,g]=(0,s.useState)(!0),[p,k]=(0,s.useState)(!1),v=(0,h.useRouter)(),b=(0,h.usePathname)(),j=()=>{let e=localStorage.getItem("adminToken"),t=!!e;return console.log("\uD83D\uDD10 Auth check - Token present:",!!e,"Is authenticated:",t),t};(0,s.useEffect)(()=>{let e=()=>{let e=j();console.log("\uD83D\uDD04 Setting auth state to:",e),a(e),g(!1)};console.log("\uD83D\uDE80 Layout useEffect running - checking auth..."),e();let t=t=>{"adminToken"===t.key&&(console.log("\uD83D\uDCE6 Storage change detected for adminToken"),e())};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]),(0,s.useEffect)(()=>{k(!1)},[b]);let N=()=>{localStorage.removeItem("adminToken"),a(!1),v.push("/admin")},w=[{name:"Dashboard",href:"/admin",icon:i},{name:"Applications",href:"/admin/applications",icon:l.Z},{name:"Hero Slides",href:"/admin/hero-slides",icon:o},{name:"Teachers",href:"/admin/teachers",icon:c.Z},{name:"Students",href:"/admin/students",icon:d.Z}];if(y)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});let _=j();return(console.log("\uD83C\uDFA8 Rendering layout - Current auth status:",_,"State auth status:",r),_)?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden ".concat(p?"block":"hidden"),children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>k(!1)}),(0,n.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[(0,n.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"HIMS Admin"}),(0,n.jsx)("button",{onClick:()=>k(!1),children:(0,n.jsx)(m.Z,{className:"w-6 h-6 text-gray-500"})})]}),(0,n.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:w.map(e=>{let t=b===e.href;return(0,n.jsxs)(f(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(t?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>k(!1),children:[(0,n.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,n.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,n.jsxs)("button",{onClick:N,className:"flex w-full items-center px-2 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-md",children:[(0,n.jsx)(u,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})]}),(0,n.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,n.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[(0,n.jsx)("div",{className:"flex h-16 items-center px-4",children:(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"HIMS Admin"})}),(0,n.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:w.map(e=>{let t=b===e.href;return(0,n.jsxs)(f(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(t?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,n.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,n.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,n.jsxs)("button",{onClick:N,className:"flex w-full items-center px-2 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-md",children:[(0,n.jsx)(u,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})}),(0,n.jsxs)("div",{className:"lg:pl-64",children:[(0,n.jsx)("button",{type:"button",className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md border border-gray-200",onClick:()=>k(!0),children:(0,n.jsx)(x.Z,{className:"h-6 w-6 text-gray-700"})}),(0,n.jsx)("main",{className:"py-6",children:(0,n.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})]}):(console.log("‚ùå Not authenticated - rendering children only"),(0,n.jsx)(n.Fragment,{children:t}))}},622:function(e,t,r){"use strict";var n=r(2265),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!o.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[598,971,938,744],function(){return e(e.s=3886)}),_N_E=e.O()}]);